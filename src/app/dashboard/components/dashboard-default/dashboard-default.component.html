<mat-card class="search-container">
	<div class="donor-filters">
		<mat-form-field appearance="outline">
			<mat-label>Search Donor</mat-label>
			<input
				matInput
				(keyup)="applyFilter($event)"
				placeholder="Search Donor"
				#input
			/>
		</mat-form-field>

		<mat-form-field appearance="outline">
			<mat-label>Blood Group</mat-label>
			<mat-select name="bloodGroup" (selectionChange)="filterUserByBloodGroup($event)">
				<mat-option
					*ngFor="let bg of bloodGroups"
					[value]="bg"
					>{{ bg }}</mat-option
				>
			</mat-select>
		</mat-form-field>
	</div>

    <div class="reset-section">
        <button mat-raised-button (click)="reset()">Reset</button>
    </div>
</mat-card>

<div class="mat-elevation-z8">
	<table
		mat-table
		[dataSource]="dataSource"
		matSort
	>
		<!-- Name Column -->
		<ng-container matColumnDef="name">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header
			>
				Name
			</th>
			<td
				mat-cell
				*matCellDef="let row"
			>
				{{ row.name }}
			</td>
		</ng-container>

		<!-- Address Column -->
		<ng-container matColumnDef="address">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header
			>
				Address
			</th>
			<td
				mat-cell
				*matCellDef="let row"
			>
				{{ row.address }}
			</td>
		</ng-container>

		<!-- Blood Group Column -->
		<ng-container matColumnDef="bloodGroup">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header
			>
				Blood Group
			</th>
			<td
				mat-cell
				*matCellDef="let row"
			>
				{{ row.bloodGroup }}
			</td>
		</ng-container>

		<!-- Mobile Number Column -->
		<ng-container matColumnDef="mobileNumber">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header
			>
				Mobile Number
			</th>
			<td
				mat-cell
				*matCellDef="let row"
			>
				{{ row.mobileNumber }}
			</td>
		</ng-container>

        <ng-container matColumnDef="lastDonationDate">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header
			>
				Last Donation Date
			</th>
			<td
				mat-cell
				*matCellDef="let row"
			>
				{{ row.lastDonationDate }}
			</td>
		</ng-container>

        <ng-container matColumnDef="totalDonations">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header
			>
				Total Donations
			</th>
			<td
				mat-cell
				*matCellDef="let row"
			>
				{{ row.totalDonations }}
			</td>
		</ng-container>

		<tr
			mat-header-row
			*matHeaderRowDef="displayedColumns"
		></tr>
		<tr
			mat-row
			*matRowDef="let row; columns: displayedColumns"
		></tr>

		<!-- Row shown when there is no matching data. -->
		<tr
			class="mat-row"
			*matNoDataRow
		>
			<td
				class="mat-cell"
				colspan="4"
			>
				No data matching the filter "{{ input.value }}"
			</td>
		</tr>
	</table>

	<mat-paginator
		[pageSizeOptions]="[5, 10, 25, 100]"
		aria-label="Select page of users"
	></mat-paginator>
</div>
